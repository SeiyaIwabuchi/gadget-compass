---
// NewsletterSubscribe.astro
---

<section class="newsletter-subscribe">
    <div class="container">
        <div class="newsletter-subscribe-content">
            <h2 class="newsletter-subscribe-title">最新情報をお届け</h2>
            <p class="newsletter-subscribe-text">
                新着記事やガジェット情報、限定コンテンツをいち早くお届けします。メールアドレスをご登録ください。
            </p>
            <form class="newsletter-subscribe-form">
                <input
                    type="email"
                    class="newsletter-subscribe-input"
                    placeholder="メールアドレスを入力"
                />
                <button type="submit" class="newsletter-subscribe-btn"
                    >登録する</button
                >
            </form>
            <p class="newsletter-subscribe-note">
                ※ご登録いただいたメールアドレスは、本サービスのみに使用し、第三者に提供することはありません。
            </p>
        </div>
    </div>
</section>

<script>
    // Handle main newsletter subscribe form
    const newsletterSubscribeForm = document.querySelector(
        ".newsletter-subscribe-form",
    ) as HTMLFormElement;
    if (newsletterSubscribeForm) {
        newsletterSubscribeForm.addEventListener("submit", function (e: Event) {
            e.preventDefault();
            const emailInput = this.querySelector(
                ".newsletter-subscribe-input",
            ) as HTMLInputElement;
            if (emailInput && emailInput.value) {
                alert("登録ありがとうございます！最新情報をお届けします。");
                emailInput.value = "";
            }
        });
    }
</script>

<style>
    .newsletter-subscribe {
        background: linear-gradient(
            135deg,
            var(--primary-blue) 0%,
            var(--secondary-blue) 100%
        );
        color: white;
        padding: 4rem 0;
    }

    .newsletter-subscribe-content {
        text-align: center;
        max-width: 600px;
        margin: 0 auto;
    }

    .newsletter-subscribe-title {
        font-size: 2rem;
        font-weight: 700;
        margin-bottom: 1rem;
    }

    .newsletter-subscribe-text {
        font-size: 1.1rem;
        margin-bottom: 2rem;
        opacity: 0.9;
    }

    .newsletter-subscribe-form {
        display: flex;
        gap: 1rem;
        margin-bottom: 1rem;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
    }

    .newsletter-subscribe-input {
        flex: 1;
        padding: 0.75rem 1rem;
        border: none;
        border-radius: 8px;
        font-size: 1rem;
        background: white;
        color: var(--text-primary);
    }

    .newsletter-subscribe-input::placeholder {
        color: var(--text-light);
    }

    .newsletter-subscribe-btn {
        background: var(--accent-orange);
        color: white;
        border: none;
        border-radius: 8px;
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        font-weight: 600;
        cursor: pointer;
        transition: background 0.2s ease;
        white-space: nowrap;
    }

    .newsletter-subscribe-btn:hover {
        background: #e97319;
    }

    .newsletter-subscribe-note {
        font-size: 0.875rem;
        opacity: 0.8;
        margin-top: 1rem;
    }

    @media (max-width: 768px) {
        .newsletter-subscribe-form {
            flex-direction: column;
            gap: 0.75rem;
        }

        .newsletter-subscribe-title {
            font-size: 1.5rem;
        }

        .newsletter-subscribe-text {
            font-size: 1rem;
        }
    }
</style>
